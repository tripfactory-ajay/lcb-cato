<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Reconciliation - CAT001 (LCB Vehicles Limited)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 2000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        h1 {
            font-size: 2.5em;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #888;
            font-size: 1.1em;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
        }

        .icon-blue { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .icon-green { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
        .icon-orange { background: rgba(249, 115, 22, 0.2); color: #fb923c; }
        .icon-red { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .icon-purple { background: rgba(168, 85, 247, 0.2); color: #c084fc; }
        .icon-yellow { background: rgba(234, 179, 8, 0.2); color: #facc15; }

        .card-title {
            font-size: 0.8em;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .card-value {
            font-size: 1.4em;
            font-weight: 700;
            margin-top: 3px;
            font-family: 'Courier New', monospace;
        }

        .progress-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(168, 85, 247, 0.1));
            border: 2px solid rgba(59, 130, 246, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .section {
            background: rgba(255,255,255,0.03);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
            gap: 10px;
        }

        .section-title {
            font-size: 1.3em;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.7em;
            font-weight: 600;
        }

        .badge-success { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
        .badge-warning { background: rgba(249, 115, 22, 0.2); color: #fb923c; }
        .badge-danger { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .badge-info { background: rgba(59, 130, 246, 0.2); color: #60a5fa; }
        .badge-muted { background: rgba(100, 100, 100, 0.2); color: #888; }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 0.85em;
            font-weight: 500;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .btn-primary { background: #3b82f6; color: white; }
        .btn-success { background: #22c55e; color: white; }
        .btn-warning { background: #f59e0b; color: black; }
        .btn-danger { background: #ef4444; color: white; }
        .btn-secondary { background: rgba(255,255,255,0.1); color: #ccc; }
        .btn-purple { background: #8b5cf6; color: white; }

        .btn:hover { transform: translateY(-1px); opacity: 0.9; }

        .save-status {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.85em;
            font-weight: 500;
            display: none;
            align-items: center;
            gap: 5px;
        }

        .save-status.show {
            display: inline-flex;
        }

        .save-status.saved {
            background: rgba(34, 197, 94, 0.2);
            color: #4ade80;
        }

        .save-status.saving {
            background: rgba(59, 130, 246, 0.2);
            color: #60a5fa;
        }

        /* RECONCILIATION TABLE STYLES */
        .reconciliation-table {
            overflow-x: auto;
            margin-bottom: 25px;
        }

        .reconciliation-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85em;
            min-width: 1600px;
        }

        .reconciliation-table th {
            text-align: left;
            padding: 12px 8px;
            background: rgba(0,0,0,0.4);
            color: #888;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75em;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .reconciliation-table td {
            padding: 10px 8px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            vertical-align: top;
        }

        /* Column specific styling */
        .col-match { width: 50px; text-align: center; background: rgba(0,0,0,0.2); }
        .col-lcb-date { width: 90px; color: #60a5fa; }
        .col-lcb-ref { width: 120px; color: #60a5fa; }
        .col-lcb-amount { width: 110px; text-align: right; color: #60a5fa; }
        .col-cato-date { width: 90px; color: #4ade80; }
        .col-cato-ref { width: 120px; color: #4ade80; }
        .col-cato-amount { width: 110px; text-align: right; color: #4ade80; }
        .col-type { width: 100px; }
        .col-desc { min-width: 180px; }
        .col-status { width: 100px; }
        .col-notes { min-width: 180px; }

        .reconciliation-table tr:hover {
            background: rgba(255,255,255,0.03);
        }

        .reconciliation-table tr.matched { background: rgba(34, 197, 94, 0.08); }
        .reconciliation-table tr.matched .col-lcb-date,
        .reconciliation-table tr.matched .col-lcb-ref,
        .reconciliation-table tr.matched .col-lcb-amount,
        .reconciliation-table tr.matched .col-cato-date,
        .reconciliation-table tr.matched .col-cato-ref,
        .reconciliation-table tr.matched .col-cato-amount {
            color: #4ade80;
        }

        .reconciliation-table tr.query { background: rgba(239, 68, 68, 0.08); }
        .reconciliation-table tr.query .col-lcb-date,
        .reconciliation-table tr.query .col-lcb-ref,
        .reconciliation-table tr.query .col-lcb-amount {
            color: #f87171;
        }

        .reconciliation-table tr.unmatched-cato .col-cato-date,
        .reconciliation-table tr.unmatched-cato .col-cato-ref,
        .reconciliation-table tr.unmatched-cato .col-cato-amount {
            color: #f87171;
            font-style: italic;
        }

        /* Header group styling */
        .header-group-lcb {
            background: rgba(59, 130, 246, 0.15);
            border-bottom: 2px solid #3b82f6;
        }

        .header-group-cato {
            background: rgba(34, 197, 94, 0.15);
            border-bottom: 2px solid #22c55e;
        }

        .header-group-details {
            background: rgba(100, 100, 100, 0.1);
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #3b82f6;
        }

        .amount {
            font-family: 'Courier New', monospace;
            font-weight: 600;
            text-align: right;
        }

        .amount-positive { color: #4ade80; }
        .amount-negative { color: #f87171; }
        .amount-neutral { color: #ccc; }

        .status {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .status-matched { background: rgba(34, 197, 94, 0.15); color: #4ade80; }
        .status-query { background: rgba(239, 68, 68, 0.15); color: #f87171; }
        .status-pending { background: rgba(249, 115, 22, 0.15); color: #fb923c; }
        .status-credit { background: rgba(168, 85, 247, 0.15); color: #c084fc; }
        .status-unmatched { background: rgba(100, 100, 100, 0.15); color: #888; }

        .notes-input {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: #fff;
            padding: 4px 8px;
            border-radius: 4px;
            width: 100%;
            font-size: 0.9em;
        }

        .notes-input:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(255,255,255,0.08);
        }

        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }

        .filter-input {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            color: #fff;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.85em;
        }

        .filter-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .batch-divider {
            border-top: 3px solid rgba(255,255,255,0.1);
        }

        .batch-header {
            background: rgba(59, 130, 246, 0.05);
        }

        .query-box {
            background: rgba(239, 68, 68, 0.1);
            border-left: 4px solid #f87171;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 10px 0;
        }

        .query-title {
            color: #f87171;
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .aging-90 { color: #ef4444; font-weight: bold; }
        .aging-60 { color: #f97316; font-weight: bold; }
        .aging-30 { color: #eab308; }
        .aging-current { color: #4ade80; }

        .footer {
            text-align: center;
            padding: 30px;
            color: #666;
            font-size: 0.9em;
        }

        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #3b82f6, #7b2cbf);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1em;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(59, 130, 246, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .print-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(59, 130, 246, 0.5);
        }

        .date-mismatch {
            background: rgba(249, 115, 22, 0.2);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.85em;
        }

        .variance {
            background: rgba(239, 68, 68, 0.15);
            color: #f87171;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.85em;
            font-weight: bold;
        }

        /* MODAL STYLES */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            padding: 25px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(0,0,0,0.2);
        }

        .modal-title {
            font-size: 1.5em;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-close {
            background: rgba(255,255,255,0.1);
            border: none;
            color: #888;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: rgba(239, 68, 68, 0.2);
            color: #f87171;
        }

        .modal-body {
            padding: 25px;
        }

        .query-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .query-item {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.2s;
        }

        .query-item:hover {
            background: rgba(255,255,255,0.05);
            border-color: rgba(239, 68, 68, 0.3);
        }

        .query-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .query-item-title {
            font-size: 1.1em;
            color: #f87171;
            font-weight: 600;
        }

        .query-item-amount {
            font-family: 'Courier New', monospace;
            font-size: 1.3em;
            color: #f87171;
            font-weight: 700;
        }

        .query-item-details {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 0.9em;
            color: #888;
        }

        .query-item-detail {
            display: flex;
            gap: 10px;
        }

        .query-item-detail strong {
            color: #ccc;
            min-width: 80px;
        }

        .query-item-status {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.75em;
            font-weight: 600;
            margin-top: 10px;
        }

        .query-critical {
            background: rgba(239, 68, 68, 0.15);
            color: #f87171;
        }

        .query-warning {
            background: rgba(249, 115, 22, 0.15);
            color: #fb923c;
        }

        .query-info {
            background: rgba(59, 130, 246, 0.15);
            color: #60a5fa;
        }

        @media print {
            body { background: white; color: black; }
            .section { background: white; border: 1px solid #ddd; }
            .print-btn, .controls, .filter-bar { display: none; }
            .reconciliation-table { overflow-x: visible; }
            .reconciliation-table table { min-width: 100%; font-size: 0.75em; }
            input[type="checkbox"] { appearance: auto; }
            .notes-input { border: 1px solid #ccc; color: #000; }
            .save-status { display: none !important; }
            .modal-overlay { display: none !important; }
        }

        @media (max-width: 1600px) {
            .reconciliation-table table { font-size: 0.8em; }
            .reconciliation-table th,
            .reconciliation-table td { padding: 8px 6px; }
        }

        @media (max-width: 768px) {
            .summary-cards { grid-template-columns: 1fr; }
            .query-item-details { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üîç Supplier Reconciliation</h1>
            <p class="subtitle">CAT001 (LCB Vehicles Limited) ‚Ä¢ Period: Nov 2022 - Feb 2026</p>
            <p style="margin-top: 10px; color: #666; font-size: 0.9em;">Reconciling Cato Records (¬£39,054.86) to LCB Statement (¬£26,039.53)</p>
            <p style="margin-top: 5px; color: #f87171; font-size: 0.85em;">Difference to Reconcile: ¬£13,015.33</p>
        </header>

        <!-- CORRECTED SUMMARY CARDS -->
        <div class="summary-cards" id="summaryCards">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon icon-blue">üìã</div>
                    <div>
                        <div class="card-title">LCB Closing Balance</div>
                        <div class="card-value" style="color: #60a5fa;">¬£26,039.53</div>
                    </div>
                </div>
                <div style="font-size: 0.75em; color: #888; margin-top: 5px;">Fixed Baseline (Correct)</div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon icon-green">üìä</div>
                    <div>
                        <div class="card-title">Cato Records Balance</div>
                        <div class="card-value" id="catoBalance" style="color: #4ade80;">¬£39,054.86</div>
                    </div>
                </div>
                <div style="font-size: 0.75em; color: #888; margin-top: 5px;">To be Reconciled</div>
            </div>

            <div class="card" onclick="openQueriesModal()" style="position: relative;">
                <div class="card-header">
                    <div class="card-icon icon-red">‚ö†Ô∏è</div>
                    <div>
                        <div class="card-title">Unreconciled Diff</div>
                        <div class="card-value" style="color: #f87171;">¬£13,015.33</div>
                    </div>
                </div>
                <div style="position: absolute; top: 10px; right: 10px; font-size: 0.7em; color: #888; background: rgba(239,68,68,0.1); padding: 2px 8px; border-radius: 10px;">Click to view queries</div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon icon-orange">üìù</div>
                    <div>
                        <div class="card-title">Total Invoices (LCB)</div>
                        <div class="card-value" style="color: #fb923c;">¬£335,023.80</div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon icon-purple">üí≥</div>
                    <div>
                        <div class="card-title">Total Payments</div>
                        <div class="card-value" style="color: #c084fc;">¬£300,017.67</div>
                    </div>
                </div>
            </div>

            <div class="card progress-card">
                <div class="card-header">
                    <div class="card-icon icon-yellow">üìà</div>
                    <div style="flex: 1;">
                        <div class="card-title">Reconciliation Progress</div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div class="card-value" style="color: #facc15; font-size: 1.2em;" id="progressPercent">0%</div>
                            <div style="font-size: 0.8em; color: #888;"><span id="matchedCount">0</span> / <span id="totalCount">0</span></div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressBar" style="width: 0%"></div>
                        </div>
                        <div style="font-size: 0.75em; color: #888; margin-top: 5px;">Cato ‚Üí LCB reconciliation</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN RECONCILIATION TABLE -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">
                    ‚öñÔ∏è Line-by-Line Reconciliation
                    <span class="badge badge-info">Cato Records vs LCB Statement</span>
                </h2>
                <div class="controls">
                    <button class="btn btn-success" onclick="markAllMatched()">‚úì Mark All Matched</button>
                    <button class="btn btn-warning" onclick="clearAll()">Clear All</button>
                    <button class="btn btn-purple" onclick="saveProgress()">üíæ Save Progress</button>
                    <button class="btn btn-secondary" onclick="exportCSV()">Export CSV</button>
                    <div class="save-status" id="saveStatus">‚úì Saved</div>
                </div>
            </div>

            <div class="filter-bar">
                <input type="text" class="filter-input" placeholder="Search reference..." id="searchInput" onkeyup="filterTables()" style="width: 200px;">
                <select class="filter-input" id="statusFilter" onchange="filterTables()">
                    <option value="">All Statuses</option>
                    <option value="matched">Matched</option>
                    <option value="unmatched">Unmatched</option>
                    <option value="query">Query</option>
                </select>
                <select class="filter-input" id="typeFilter" onchange="filterTables()">
                    <option value="">All Types</option>
                    <option value="invoice">Invoice</option>
                    <option value="payment">Payment</option>
                    <option value="credit">Credit Note</option>
                </select>
                <label style="display: flex; align-items: center; gap: 5px; color: #888; font-size: 0.85em;">
                    <input type="checkbox" id="showMismatchesOnly" onchange="filterTables()"> Amount mismatches only
                </label>
            </div>

            <div class="reconciliation-table">
                <table id="reconciliationTable">
                    <thead>
                        <tr>
                            <th class="col-match header-group-details" rowspan="2">‚úì<br>Match</th>
                            <th class="header-group-lcb" colspan="3" style="text-align: center; border-bottom: 1px solid #3b82f6;">üì• LCB STATEMENT (Fixed Baseline)</th>
                            <th class="header-group-cato" colspan="3" style="text-align: center; border-bottom: 1px solid #22c55e;">üì§ CATO RECORDS (To Reconcile)</th>
                            <th class="header-group-details" colspan="3" style="text-align: center;">Transaction Details</th>
                        </tr>
                        <tr>
                            <!-- LCB Columns -->
                            <th class="col-lcb-date header-group-lcb">Date</th>
                            <th class="col-lcb-ref header-group-lcb">Reference</th>
                            <th class="col-lcb-amount header-group-lcb">Amount</th>
                            <!-- Cato Columns -->
                            <th class="col-cato-date header-group-cato">Date</th>
                            <th class="col-cato-ref header-group-cato">Reference</th>
                            <th class="col-cato-amount header-group-cato">Amount</th>
                            <!-- Detail Columns -->
                            <th class="col-type header-group-details">Type</th>
                            <th class="col-status header-group-details">Status</th>
                            <th class="col-notes header-group-details">Reconciliation Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- BATCH 1 - LCB Payment 12/01/2023 ¬£10,465.72 -->
                        <tr class="batch-header" data-amount="10465.72" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="10465.72"></td>
                            <td class="col-lcb-date">12/01/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£10,465.72</td>
                            <td class="col-cato-date">12/01/2023</td>
                            <td class="col-cato-ref">Batch 1</td>
                            <td class="col-cato-amount amount-negative">-¬£10,465.72</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="7 invoices paid"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505340</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505340</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505354</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505354</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505508</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505508</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505567</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505567</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505749</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505749</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1200.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1200.00"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">505807</td>
                            <td class="col-lcb-amount amount-positive">¬£1,200.00</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">505807</td>
                            <td class="col-cato-amount amount-positive">¬£1,200.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>
                        <tr data-amount="1265.72" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="1265.72"></td>
                            <td class="col-lcb-date">29/11/2022</td>
                            <td class="col-lcb-ref">Van Fine</td>
                            <td class="col-lcb-amount amount-positive">¬£1,265.72</td>
                            <td class="col-cato-date">29/11/2022</td>
                            <td class="col-cato-ref">Van Fine</td>
                            <td class="col-cato-amount amount-positive">¬£1,265.72</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 1"></td>
                        </tr>

                        <!-- BATCH 2 - LCB Payment 21/03/2023 ¬£4,954.86 -->
                        <tr class="batch-divider batch-header" data-amount="4954.86" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4954.86"></td>
                            <td class="col-lcb-date">21/03/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£4,954.86</td>
                            <td class="col-cato-date">21/03/2023</td>
                            <td class="col-cato-ref">Batch 2</td>
                            <td class="col-cato-amount amount-negative">-¬£4,954.86</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Matches 506100"></td>
                        </tr>
                        <tr data-amount="4954.86" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4954.86"></td>
                            <td class="col-lcb-date">21/03/2023</td>
                            <td class="col-lcb-ref">506100</td>
                            <td class="col-lcb-amount amount-positive">¬£4,954.86</td>
                            <td class="col-cato-date">21/03/2023</td>
                            <td class="col-cato-ref">506100</td>
                            <td class="col-cato-amount amount-positive">¬£4,954.86</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 2"></td>
                        </tr>

                        <!-- BATCH 3 - LCB Payment 05/05/2023 ¬£14,430.42 -->
                        <tr class="batch-divider batch-header" data-amount="14430.42" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="14430.42"></td>
                            <td class="col-lcb-date">05/05/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£14,430.42</td>
                            <td class="col-cato-date">05/05/2023</td>
                            <td class="col-cato-ref">Batch 3</td>
                            <td class="col-cato-amount amount-negative">-¬£14,430.42</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Multiple invoices"></td>
                        </tr>
                        <tr data-amount="14430.42" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="14430.42"></td>
                            <td class="col-lcb-date">05/05/2023</td>
                            <td class="col-lcb-ref">Apr 2023</td>
                            <td class="col-lcb-amount amount-positive">¬£14,430.42</td>
                            <td class="col-cato-date">05/05/2023</td>
                            <td class="col-cato-ref">Apr 2023</td>
                            <td class="col-cato-amount amount-positive">¬£14,430.42</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Batch 3 payment"></td>
                        </tr>

                        <!-- BATCH 4 - LCB Payment 08/06/2023 ¬£5,875.97 -->
                        <tr class="batch-divider batch-header" data-amount="5875.97" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="5875.97"></td>
                            <td class="col-lcb-date">08/06/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£5,875.97</td>
                            <td class="col-cato-date">08/06/2023</td>
                            <td class="col-cato-ref">Batch 4</td>
                            <td class="col-cato-amount amount-negative">-¬£5,875.97</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Matches May hire"></td>
                        </tr>
                        <tr data-amount="5875.97" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="5875.97"></td>
                            <td class="col-lcb-date">08/06/2023</td>
                            <td class="col-lcb-ref">May Hire</td>
                            <td class="col-lcb-amount amount-positive">¬£5,875.97</td>
                            <td class="col-cato-date">08/06/2023</td>
                            <td class="col-cato-ref">May Hire</td>
                            <td class="col-cato-amount amount-positive">¬£5,875.97</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 4"></td>
                        </tr>

                        <!-- BATCH 5 WITH CREDIT NOTE - LCB Payment 28/07/2023 ¬£13,781.13 -->
                        <tr class="batch-divider batch-header" data-amount="13781.13" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="13781.13"></td>
                            <td class="col-lcb-date">28/07/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£13,781.13</td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">Batch 5</td>
                            <td class="col-cato-amount amount-negative">-¬£13,781.13</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-credit">With Credit</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Includes ¬£3,040 CR"></td>
                        </tr>
                        <tr data-amount="3000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3000.00"></td>
                            <td class="col-lcb-date">28/07/2023</td>
                            <td class="col-lcb-ref">507117</td>
                            <td class="col-lcb-amount amount-positive">¬£3,000.00</td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">507117</td>
                            <td class="col-cato-amount amount-positive">¬£3,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 5"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">28/07/2023</td>
                            <td class="col-lcb-ref">507325</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">507325</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 5"></td>
                        </tr>
                        <tr data-amount="3781.13" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3781.13"></td>
                            <td class="col-lcb-date">28/07/2023</td>
                            <td class="col-lcb-ref">507734</td>
                            <td class="col-lcb-amount amount-positive">¬£3,781.13</td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">507734</td>
                            <td class="col-cato-amount amount-positive">¬£3,781.13</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 5"></td>
                        </tr>
                        <tr data-amount="3000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3000.00"></td>
                            <td class="col-lcb-date">28/07/2023</td>
                            <td class="col-lcb-ref">507760</td>
                            <td class="col-lcb-amount amount-positive">¬£3,000.00</td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">507760</td>
                            <td class="col-cato-amount amount-positive">¬£3,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 5"></td>
                        </tr>
                        <tr class="query" data-amount="3040.00" data-type="credit">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3040.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="??" style="width: 80px; border-color: #f87171;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="VERIFY" style="width: 100px; border-color: #f87171;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="??" style="width: 90px; border-color: #f87171;"></td>
                            <td class="col-cato-date">28/07/2023</td>
                            <td class="col-cato-ref">507757</td>
                            <td class="col-cato-amount amount-negative">-¬£3,040.00</td>
                            <td class="col-type">Credit Note</td>
                            <td class="col-status"><span class="status status-credit">Verify LCB</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="‚ö†Ô∏è CHECK LCB RECORDS"></td>
                        </tr>

                        <!-- BATCH 6 - LCB Payment 20/10/2023 ¬£10,486.41 -->
                        <tr class="batch-divider batch-header" data-amount="10486.41" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="10486.41"></td>
                            <td class="col-lcb-date">20/10/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£10,486.41</td>
                            <td class="col-cato-date">20/10/2023</td>
                            <td class="col-cato-ref">Batch 6</td>
                            <td class="col-cato-amount amount-negative">-¬£10,486.41</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Matches 508078"></td>
                        </tr>
                        <tr data-amount="10486.41" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="10486.41"></td>
                            <td class="col-lcb-date">20/10/2023</td>
                            <td class="col-lcb-ref">508078</td>
                            <td class="col-lcb-amount amount-positive">¬£10,486.41</td>
                            <td class="col-cato-date">20/10/2023</td>
                            <td class="col-cato-ref">508078</td>
                            <td class="col-cato-amount amount-positive">¬£10,486.41</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 6"></td>
                        </tr>

                        <!-- BATCH 7 - LCB Payment 09/11/2023 ¬£9,723.60 -->
                        <tr class="batch-divider batch-header" data-amount="9723.60" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9723.60"></td>
                            <td class="col-lcb-date">09/11/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£9,723.60</td>
                            <td class="col-cato-date">09/11/2023</td>
                            <td class="col-cato-ref">Batch 7</td>
                            <td class="col-cato-amount amount-negative">-¬£9,723.60</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Matches 508409"></td>
                        </tr>
                        <tr data-amount="9723.60" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9723.60"></td>
                            <td class="col-lcb-date">09/11/2023</td>
                            <td class="col-lcb-ref">508409</td>
                            <td class="col-lcb-amount amount-positive">¬£9,723.60</td>
                            <td class="col-cato-date">09/11/2023</td>
                            <td class="col-cato-ref">508409</td>
                            <td class="col-cato-amount amount-positive">¬£9,723.60</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 7"></td>
                        </tr>

                        <!-- BATCH 8 - LCB Payment 05/12/2023 ¬£19,447.20 -->
                        <tr class="batch-divider batch-header" data-amount="19447.20" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="19447.20"></td>
                            <td class="col-lcb-date">05/12/2023</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£19,447.20</td>
                            <td class="col-cato-date">05/12/2023</td>
                            <td class="col-cato-ref">Batch 8</td>
                            <td class="col-cato-amount amount-negative">-¬£19,447.20</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="2 invoices"></td>
                        </tr>
                        <tr data-amount="9723.60" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9723.60"></td>
                            <td class="col-lcb-date">05/12/2023</td>
                            <td class="col-lcb-ref">508790</td>
                            <td class="col-lcb-amount amount-positive">¬£9,723.60</td>
                            <td class="col-cato-date">05/12/2023</td>
                            <td class="col-cato-ref">508790</td>
                            <td class="col-cato-amount amount-positive">¬£9,723.60</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 8"></td>
                        </tr>
                        <tr data-amount="9723.60" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9723.60"></td>
                            <td class="col-lcb-date">05/12/2023</td>
                            <td class="col-lcb-ref">508409</td>
                            <td class="col-lcb-amount amount-positive">¬£9,723.60</td>
                            <td class="col-cato-date">05/12/2023</td>
                            <td class="col-cato-ref">508409</td>
                            <td class="col-cato-amount amount-positive">¬£9,723.60</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Also paid in Batch 8"></td>
                        </tr>

                        <!-- BATCH 9 - LCB Payment 12/02/2024 ¬£18,053.51 -->
                        <tr class="batch-divider batch-header" data-amount="18053.51" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="18053.51"></td>
                            <td class="col-lcb-date">12/02/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£18,053.51</td>
                            <td class="col-cato-date">12/02/2024</td>
                            <td class="col-cato-ref">Batch 9</td>
                            <td class="col-cato-amount amount-negative">-¬£18,053.51</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="2 invoices"></td>
                        </tr>
                        <tr data-amount="9000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9000.00"></td>
                            <td class="col-lcb-date">12/02/2024</td>
                            <td class="col-lcb-ref">509441</td>
                            <td class="col-lcb-amount amount-positive">¬£9,000.00</td>
                            <td class="col-cato-date">12/02/2024</td>
                            <td class="col-cato-ref">509441</td>
                            <td class="col-cato-amount amount-positive">¬£9,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 9"></td>
                        </tr>
                        <tr data-amount="9053.51" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9053.51"></td>
                            <td class="col-lcb-date">12/02/2024</td>
                            <td class="col-lcb-ref">509744</td>
                            <td class="col-lcb-amount amount-positive">¬£9,053.51</td>
                            <td class="col-cato-date">12/02/2024</td>
                            <td class="col-cato-ref">509744</td>
                            <td class="col-cato-amount amount-positive">¬£9,053.51</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 9"></td>
                        </tr>

                        <!-- BATCH 10 - LCB Payment 21-25/03/2024 ¬£18,017.49 -->
                        <tr class="batch-divider batch-header" data-amount="18017.49" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="18017.49"></td>
                            <td class="col-lcb-date">21-25/03/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£18,017.49</td>
                            <td class="col-cato-date">21-25/03/2024</td>
                            <td class="col-cato-ref">Batch 10</td>
                            <td class="col-cato-amount amount-negative">-¬£18,017.49</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split payment"></td>
                        </tr>
                        <tr data-amount="9000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9000.00"></td>
                            <td class="col-lcb-date">21/03/2024</td>
                            <td class="col-lcb-ref">510267</td>
                            <td class="col-lcb-amount amount-positive">¬£9,000.00</td>
                            <td class="col-cato-date">21/03/2024</td>
                            <td class="col-cato-ref">510267</td>
                            <td class="col-cato-amount amount-positive">¬£9,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split part 1"></td>
                        </tr>
                        <tr data-amount="9017.49" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9017.49"></td>
                            <td class="col-lcb-date">25/03/2024</td>
                            <td class="col-lcb-ref">510721</td>
                            <td class="col-lcb-amount amount-positive">¬£9,017.49</td>
                            <td class="col-cato-date">25/03/2024</td>
                            <td class="col-cato-ref">510721</td>
                            <td class="col-cato-amount amount-positive">¬£9,017.49</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split part 2"></td>
                        </tr>

                        <!-- BATCH 11 - LCB Payment 17/04/2024 ¬£3,731.40 -->
                        <tr class="batch-divider batch-header" data-amount="3731.40" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3731.40"></td>
                            <td class="col-lcb-date">17/04/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£3,731.40</td>
                            <td class="col-cato-date">17/04/2024</td>
                            <td class="col-cato-ref">Batch 11</td>
                            <td class="col-cato-amount amount-negative">-¬£3,731.40</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Parking fine"></td>
                        </tr>
                        <tr data-amount="3731.40" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="3731.40"></td>
                            <td class="col-lcb-date">17/04/2024</td>
                            <td class="col-lcb-ref">Parking Fine</td>
                            <td class="col-lcb-amount amount-positive">¬£3,731.40</td>
                            <td class="col-cato-date">17/04/2024</td>
                            <td class="col-cato-ref">Parking Fine</td>
                            <td class="col-cato-amount amount-positive">¬£3,731.40</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Admin charges"></td>
                        </tr>
                        <!-- BATCH 12 - LCB Payment 07/06/2024 ¬£13,291.41 -->
                        <tr class="batch-divider batch-header" data-amount="13291.41" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="13291.41"></td>
                            <td class="col-lcb-date">07/06/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£13,291.41</td>
                            <td class="col-cato-date">07/06/2024</td>
                            <td class="col-cato-ref">Batch 12</td>
                            <td class="col-cato-amount amount-negative">-¬£13,291.41</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="509130 + fines"></td>
                        </tr>
                        <tr data-amount="8000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8000.00"></td>
                            <td class="col-lcb-date">07/06/2024</td>
                            <td class="col-lcb-ref">509130</td>
                            <td class="col-lcb-amount amount-positive">¬£8,000.00</td>
                            <td class="col-cato-date">07/06/2024</td>
                            <td class="col-cato-ref">509130</td>
                            <td class="col-cato-amount amount-positive">¬£8,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 12"></td>
                        </tr>
                        <tr data-amount="5291.41" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="5291.41"></td>
                            <td class="col-lcb-date">07/06/2024</td>
                            <td class="col-lcb-ref">LCB Fines</td>
                            <td class="col-lcb-amount amount-positive">¬£5,291.41</td>
                            <td class="col-cato-date">07/06/2024</td>
                            <td class="col-cato-ref">LCB Fines</td>
                            <td class="col-cato-amount amount-positive">¬£5,291.41</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Fines"></td>
                        </tr>

                        <!-- BATCH 13 - LCB Payment 14/06/2024 ¬£8,751.60 -->
                        <tr class="batch-divider batch-header" data-amount="8751.60" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8751.60"></td>
                            <td class="col-lcb-date">14/06/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£8,751.60</td>
                            <td class="col-cato-date">14/06/2024</td>
                            <td class="col-cato-ref">Batch 13</td>
                            <td class="col-cato-amount amount-negative">-¬£8,751.60</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Matches 511113"></td>
                        </tr>
                        <tr data-amount="8751.60" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8751.60"></td>
                            <td class="col-lcb-date">14/06/2024</td>
                            <td class="col-lcb-ref">511113</td>
                            <td class="col-lcb-amount amount-positive">¬£8,751.60</td>
                            <td class="col-cato-date">14/06/2024</td>
                            <td class="col-cato-ref">511113</td>
                            <td class="col-cato-amount amount-positive">¬£8,751.60</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 13"></td>
                        </tr>

                        <!-- BATCH 14 - LCB Payment 15/08/2024 ¬£25,042.87 -->
                        <tr class="batch-divider batch-header" data-amount="25042.87" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="25042.87"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£25,042.87</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">Batch 14</td>
                            <td class="col-cato-amount amount-negative">-¬£25,042.87</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="6 invoices"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">511314</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">511314</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">511315</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">511315</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">511548</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">511548</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">511948</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">511948</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>
                        <tr data-amount="4000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4000.00"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">512307</td>
                            <td class="col-lcb-amount amount-positive">¬£4,000.00</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">512307</td>
                            <td class="col-cato-amount amount-positive">¬£4,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>
                        <tr data-amount="6042.87" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="6042.87"></td>
                            <td class="col-lcb-date">15/08/2024</td>
                            <td class="col-lcb-ref">512358</td>
                            <td class="col-lcb-amount amount-positive">¬£6,042.87</td>
                            <td class="col-cato-date">15/08/2024</td>
                            <td class="col-cato-ref">512358</td>
                            <td class="col-cato-amount amount-positive">¬£6,042.87</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 14"></td>
                        </tr>

                        <!-- BATCH 15 - LCB Payment 02-03/10/2024 ¬£14,719.20 -->
                        <tr class="batch-divider batch-header" data-amount="14719.20" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="14719.20"></td>
                            <td class="col-lcb-date">02-03/10/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£14,719.20</td>
                            <td class="col-cato-date">02-03/10/2024</td>
                            <td class="col-cato-ref">Batch 15</td>
                            <td class="col-cato-amount amount-negative">-¬£14,719.20</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="2 invoices"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">02/10/2024</td>
                            <td class="col-lcb-ref">512807</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">02/10/2024</td>
                            <td class="col-cato-ref">512807</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 15"></td>
                        </tr>
                        <tr data-amount="9919.20" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9919.20"></td>
                            <td class="col-lcb-date">03/10/2024</td>
                            <td class="col-lcb-ref">513278</td>
                            <td class="col-lcb-amount amount-positive">¬£9,919.20</td>
                            <td class="col-cato-date">03/10/2024</td>
                            <td class="col-cato-ref">513278</td>
                            <td class="col-cato-amount amount-positive">¬£9,919.20</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 15"></td>
                        </tr>

                        <!-- BATCH 16 - LCB Payment 20/12/2024 ¬£7,741.82 -->
                        <tr class="batch-divider batch-header" data-amount="7741.82" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="7741.82"></td>
                            <td class="col-lcb-date">20/12/2024</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£7,741.82</td>
                            <td class="col-cato-date">20/12/2024</td>
                            <td class="col-cato-ref">Batch 16</td>
                            <td class="col-cato-amount amount-negative">-¬£7,741.82</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="3 invoices"></td>
                        </tr>
                        <tr data-amount="2500.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="2500.00"></td>
                            <td class="col-lcb-date">20/12/2024</td>
                            <td class="col-lcb-ref">514061</td>
                            <td class="col-lcb-amount amount-positive">¬£2,500.00</td>
                            <td class="col-cato-date">20/12/2024</td>
                            <td class="col-cato-ref">514061</td>
                            <td class="col-cato-amount amount-positive">¬£2,500.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 16"></td>
                        </tr>
                        <tr data-amount="2500.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="2500.00"></td>
                            <td class="col-lcb-date">20/12/2024</td>
                            <td class="col-lcb-ref">514200</td>
                            <td class="col-lcb-amount amount-positive">¬£2,500.00</td>
                            <td class="col-cato-date">20/12/2024</td>
                            <td class="col-cato-ref">514200</td>
                            <td class="col-cato-amount amount-positive">¬£2,500.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 16"></td>
                        </tr>
                        <tr data-amount="2741.82" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="2741.82"></td>
                            <td class="col-lcb-date">20/12/2024</td>
                            <td class="col-lcb-ref">514553</td>
                            <td class="col-lcb-amount amount-positive">¬£2,741.82</td>
                            <td class="col-cato-date">20/12/2024</td>
                            <td class="col-cato-ref">514553</td>
                            <td class="col-cato-amount amount-positive">¬£2,741.82</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 16"></td>
                        </tr>

                        <!-- BATCH 17 WITH CREDIT - LCB Payment 17/03/2025 ¬£14,725.72 -->
                        <tr class="batch-divider batch-header" data-amount="14725.72" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="14725.72"></td>
                            <td class="col-lcb-date">17/03/2025</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£14,725.72</td>
                            <td class="col-cato-date">17/03/2025</td>
                            <td class="col-cato-ref">Batch 17</td>
                            <td class="col-cato-amount amount-negative">-¬£14,725.72</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-credit">With Credit</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Net of ¬£555.95 CR"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">17/03/2025</td>
                            <td class="col-lcb-ref">514480</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">17/03/2025</td>
                            <td class="col-cato-ref">514480</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Has credit note"></td>
                        </tr>
                        <tr class="query" data-amount="555.95" data-type="credit">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="555.95"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="??" style="width: 80px; border-color: #f87171;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="VERIFY" style="width: 100px; border-color: #f87171;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="??" style="width: 90px; border-color: #f87171;"></td>
                            <td class="col-cato-date">17/03/2025</td>
                            <td class="col-cato-ref">514481</td>
                            <td class="col-cato-amount amount-negative">-¬£555.95</td>
                            <td class="col-type">Credit Note</td>
                            <td class="col-status"><span class="status status-credit">Verify LCB</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="‚ö†Ô∏è CHECK LCB"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">17/03/2025</td>
                            <td class="col-lcb-ref">515215</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">17/03/2025</td>
                            <td class="col-cato-ref">515215</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 17"></td>
                        </tr>
                        <tr data-amount="4681.67" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4681.67"></td>
                            <td class="col-lcb-date">17/03/2025</td>
                            <td class="col-lcb-ref">515253</td>
                            <td class="col-lcb-amount amount-positive">¬£4,681.67</td>
                            <td class="col-cato-date">17/03/2025</td>
                            <td class="col-cato-ref">515253</td>
                            <td class="col-cato-amount amount-positive">¬£4,681.67</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 17"></td>
                        </tr>

                        <!-- BATCH 18 - SPLIT PAYMENT - LCB Payment 19/05/2025 ¬£16,066.17 -->
                        <tr class="batch-divider batch-header" data-amount="16066.17" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="16066.17"></td>
                            <td class="col-lcb-date">19/05/2025</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£16,066.17</td>
                            <td class="col-cato-date">19/05/2025</td>
                            <td class="col-cato-ref">Batch 18</td>
                            <td class="col-cato-amount amount-negative">-¬£16,066.17</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="3 part payments"></td>
                        </tr>
                        <tr data-amount="16066.17" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="16066.17"></td>
                            <td class="col-lcb-date">19/05/2025</td>
                            <td class="col-lcb-ref">515985</td>
                            <td class="col-lcb-amount amount-positive">¬£16,066.17</td>
                            <td class="col-cato-date">19/05/2025</td>
                            <td class="col-cato-ref">515985</td>
                            <td class="col-cato-amount amount-positive">¬£16,066.17</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split payment"></td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.02);" data-amount="4679.83" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4679.83"></td>
                            <td class="col-lcb-date">19/05/2025</td>
                            <td class="col-lcb-ref">Batch 18a</td>
                            <td class="col-lcb-amount amount-negative">-¬£4,679.83</td>
                            <td class="col-cato-date">19/05/2025</td>
                            <td class="col-cato-ref">Batch 18a</td>
                            <td class="col-cato-amount amount-negative">-¬£4,679.83</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Part</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split part 1"></td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.02);" data-amount="2726.17" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="2726.17"></td>
                            <td class="col-lcb-date">19/05/2025</td>
                            <td class="col-lcb-ref">Batch 18b</td>
                            <td class="col-lcb-amount amount-negative">-¬£2,726.17</td>
                            <td class="col-cato-date">19/05/2025</td>
                            <td class="col-cato-ref">Batch 18b</td>
                            <td class="col-cato-amount amount-negative">-¬£2,726.17</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Part</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split part 2"></td>
                        </tr>
                        <tr style="background: rgba(255,255,255,0.02);" data-amount="8660.17" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8660.17"></td>
                            <td class="col-lcb-date">19/05/2025</td>
                            <td class="col-lcb-ref">Batch 18c</td>
                            <td class="col-lcb-amount amount-negative">-¬£8,660.17</td>
                            <td class="col-cato-date">19/05/2025</td>
                            <td class="col-cato-ref">Batch 18c</td>
                            <td class="col-cato-amount amount-negative">-¬£8,660.17</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Part</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Split part 3"></td>
                        </tr>

                        <!-- BATCH 19 - PARTIAL WITH SHORTFALL - LCB Payment 19/07/2025 ¬£17,710.57 -->
                        <tr class="batch-divider batch-header" data-amount="17710.57" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="17710.57"></td>
                            <td class="col-lcb-date">19/07/2025</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£17,710.57</td>
                            <td class="col-cato-date">19/07/2025</td>
                            <td class="col-cato-ref">Batch 19</td>
                            <td class="col-cato-amount amount-negative">-¬£17,710.57</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-pending">Partial</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="‚ö†Ô∏è ¬£12 shortfall"></td>
                        </tr>
                        <tr class="query" data-amount="342.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="342.00"></td>
                            <td class="col-lcb-date">19/07/2025</td>
                            <td class="col-lcb-ref">515699</td>
                            <td class="col-lcb-amount amount-positive">¬£342.00</td>
                            <td class="col-cato-date">19/07/2025</td>
                            <td class="col-cato-ref">515699</td>
                            <td class="col-cato-amount amount-positive">¬£342.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-query">Shortfall</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid ¬£330, ¬£12 due"></td>
                        </tr>
                        <tr data-amount="8000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8000.00"></td>
                            <td class="col-lcb-date">19/07/2025</td>
                            <td class="col-lcb-ref">516355</td>
                            <td class="col-lcb-amount amount-positive">¬£8,000.00</td>
                            <td class="col-cato-date">19/07/2025</td>
                            <td class="col-cato-ref">516355</td>
                            <td class="col-cato-amount amount-positive">¬£8,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in full"></td>
                        </tr>
                        <tr data-amount="9380.57" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="9380.57"></td>
                            <td class="col-lcb-date">19/07/2025</td>
                            <td class="col-lcb-ref">516742</td>
                            <td class="col-lcb-amount amount-positive">¬£9,380.57</td>
                            <td class="col-cato-date">19/07/2025</td>
                            <td class="col-cato-ref">516742</td>
                            <td class="col-cato-amount amount-positive">¬£9,380.57</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in full"></td>
                        </tr>

                        <!-- BATCH 20 - LCB Payment 12/09/2025 ¬£14,347.69 -->
                        <tr class="batch-divider batch-header" data-amount="14347.69" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="14347.69"></td>
                            <td class="col-lcb-date">12/09/2025</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£14,347.69</td>
                            <td class="col-cato-date">12/09/2025</td>
                            <td class="col-cato-ref">Batch 20</td>
                            <td class="col-cato-amount amount-negative">-¬£14,347.69</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="3 invoices"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">12/09/2025</td>
                            <td class="col-lcb-ref">517158</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">12/09/2025</td>
                            <td class="col-cato-ref">517158</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 20"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">12/09/2025</td>
                            <td class="col-lcb-ref">517533</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">12/09/2025</td>
                            <td class="col-cato-ref">517533</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 20"></td>
                        </tr>
                        <tr data-amount="4747.69" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4747.69"></td>
                            <td class="col-lcb-date">12/09/2025</td>
                            <td class="col-lcb-ref">517756</td>
                            <td class="col-lcb-amount amount-positive">¬£4,747.69</td>
                            <td class="col-cato-date">12/09/2025</td>
                            <td class="col-cato-ref">517756</td>
                            <td class="col-cato-amount amount-positive">¬£4,747.69</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Part Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Balance ¬£2,250"></td>
                        </tr>

                        <!-- BATCH 21 WITH CREDIT - LCB Payment 01/12/2025 ¬£17,341.43 -->
                        <tr class="batch-divider batch-header" data-amount="17341.43" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="17341.43"></td>
                            <td class="col-lcb-date">01/12/2025</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£17,341.43</td>
                            <td class="col-cato-date">01/12/2025</td>
                            <td class="col-cato-ref">Batch 21</td>
                            <td class="col-cato-amount amount-negative">-¬£17,341.43</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-credit">With Credit</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Net of ¬£356.57 CR"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">01/12/2025</td>
                            <td class="col-lcb-ref">517977</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">01/12/2025</td>
                            <td class="col-cato-ref">517977</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Has credit note"></td>
                        </tr>
                        <tr class="query" data-amount="356.57" data-type="credit">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="356.57"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="??" style="width: 80px; border-color: #f87171;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="VERIFY" style="width: 100px; border-color: #f87171;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="??" style="width: 90px; border-color: #f87171;"></td>
                            <td class="col-cato-date">01/12/2025</td>
                            <td class="col-cato-ref">518540</td>
                            <td class="col-cato-amount amount-negative">-¬£356.57</td>
                            <td class="col-type">Credit Note</td>
                            <td class="col-status"><span class="status status-credit">Verify LCB</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="‚ö†Ô∏è CHECK LCB"></td>
                        </tr>
                        <tr data-amount="4800.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="4800.00"></td>
                            <td class="col-lcb-date">01/12/2025</td>
                            <td class="col-lcb-ref">518539</td>
                            <td class="col-lcb-amount amount-positive">¬£4,800.00</td>
                            <td class="col-cato-date">01/12/2025</td>
                            <td class="col-cato-ref">518539</td>
                            <td class="col-cato-amount amount-positive">¬£4,800.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 21"></td>
                        </tr>
                        <tr data-amount="8098.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="8098.00"></td>
                            <td class="col-lcb-date">01/12/2025</td>
                            <td class="col-lcb-ref">519047</td>
                            <td class="col-lcb-amount amount-positive">¬£8,098.00</td>
                            <td class="col-cato-date">01/12/2025</td>
                            <td class="col-cato-ref">519047</td>
                            <td class="col-cato-amount amount-positive">¬£8,098.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Part of Batch 21"></td>
                        </tr>

                        <!-- BATCH 22 - LCB Payment 11/02/2026 ¬£12,398.00 -->
                        <tr class="batch-divider batch-header" data-amount="12398.00" data-type="payment">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="12398.00"></td>
                            <td class="col-lcb-date">11/02/2026</td>
                            <td class="col-lcb-ref">Payment</td>
                            <td class="col-lcb-amount amount-negative">-¬£12,398.00</td>
                            <td class="col-cato-date">11/02/2026</td>
                            <td class="col-cato-ref">Batch 22</td>
                            <td class="col-cato-amount amount-negative">-¬£12,398.00</td>
                            <td class="col-type">Payment</td>
                            <td class="col-status"><span class="status status-matched">Matched</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Multiple items"></td>
                        </tr>
                        <tr data-amount="12398.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="12398.00"></td>
                            <td class="col-lcb-date">11/02/2026</td>
                            <td class="col-lcb-ref">Feb 2026</td>
                            <td class="col-lcb-amount amount-positive">¬£12,398.00</td>
                            <td class="col-cato-date">11/02/2026</td>
                            <td class="col-cato-ref">Feb 2026</td>
                            <td class="col-cato-amount amount-positive">¬£12,398.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-matched">Paid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Paid in Batch 22"></td>
                        </tr>

                        <!-- OUTSTANDING ITEMS -->
                        <tr class="batch-divider" style="background: rgba(239, 68, 68, 0.1);">
                            <td colspan="11" style="padding: 15px; font-weight: bold; color: #f87171;">üî¥ OUTSTANDING ITEMS (UNPAID)</td>
                        </tr>
                        
                        <!-- CRITICAL - Vehicle Purchase ¬£24,000 -->
                        <tr class="query" style="background: rgba(239, 68, 68, 0.15);" data-amount="24000.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="24000.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="???" style="width: 80px; border-color: #ef4444;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="NOT FOUND?" style="width: 100px; border-color: #ef4444;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="???" style="width: 90px; border-color: #ef4444;"></td>
                            <td class="col-cato-date">22/09/2025</td>
                            <td class="col-cato-ref">31059</td>
                            <td class="col-cato-amount amount-positive aging-90">¬£24,000.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-query">UNPAID</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="üî¥ 154 DAYS - CHECK LCB"></td>
                        </tr>

                        <!-- OTHER OUTSTANDING -->
                        <tr class="query" data-amount="2250.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="2250.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">29/08/2025</td>
                            <td class="col-cato-ref">517756</td>
                            <td class="col-cato-amount amount-positive aging-90">¬£2,250.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-query">Balance</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="182 days outstanding"></td>
                        </tr>
                        <tr data-amount="24.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="24.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">14/08/2025</td>
                            <td class="col-cato-ref">517673</td>
                            <td class="col-cato-amount amount-positive aging-60">¬£24.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-unmatched">Unpaid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="197 days"></td>
                        </tr>
                        <tr data-amount="5362.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="5362.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">01/02/2026</td>
                            <td class="col-cato-ref">520677</td>
                            <td class="col-cato-amount amount-positive">¬£5,362.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-unmatched">Unpaid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="25 days"></td>
                        </tr>
                        <tr data-amount="552.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="552.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">03/02/2026</td>
                            <td class="col-cato-ref">520756</td>
                            <td class="col-cato-amount amount-positive">¬£552.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-unmatched">Unpaid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="23 days"></td>
                        </tr>
                        <tr data-amount="124.00" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="124.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">30/01/2026</td>
                            <td class="col-cato-ref">520725</td>
                            <td class="col-cato-amount amount-positive">¬£124.00</td>
                            <td class="col-type">Invoice</td>
                            <td class="col-status"><span class="status status-unmatched">Unpaid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="27 days"></td>
                        </tr>
                        <tr data-amount="483.82" data-type="invoice">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="483.82"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="LCB ref" style="width: 100px;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="¬£0.00" style="width: 90px;"></td>
                            <td class="col-cato-date">Dec-Jan 2026</td>
                            <td class="col-cato-ref">18 Items</td>
                            <td class="col-cato-amount amount-positive">¬£483.82</td>
                            <td class="col-type">Various</td>
                            <td class="col-status"><span class="status status-unmatched">Unpaid</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Batch pay?"></td>
                        </tr>

                        <!-- ADDITIONAL CREDIT NOTES TO VERIFY -->
                        <tr class="batch-divider" style="background: rgba(168, 85, 247, 0.1);">
                            <td colspan="11" style="padding: 15px; font-weight: bold; color: #c084fc;">üìù CREDIT NOTES - VERIFY IN LCB</td>
                        </tr>
                        <tr class="query" data-amount="370.29" data-type="credit">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="370.29"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px; border-color: #a855f7;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="VERIFY" style="width: 100px; border-color: #a855f7;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="??" style="width: 90px; border-color: #a855f7;"></td>
                            <td class="col-cato-date">14/11/2025</td>
                            <td class="col-cato-ref">518880</td>
                            <td class="col-cato-amount amount-negative">-¬£370.29</td>
                            <td class="col-type">Credit Note</td>
                            <td class="col-status"><span class="status status-credit">Verify</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Check LCB records"></td>
                        </tr>
                        <tr class="query" data-amount="120.00" data-type="credit">
                            <td class="col-match"><input type="checkbox" onchange="updateMatch(this)" data-amount="120.00"></td>
                            <td class="col-lcb-date"><input type="text" class="notes-input" placeholder="DD/MM/YY" style="width: 80px; border-color: #a855f7;"></td>
                            <td class="col-lcb-ref"><input type="text" class="notes-input" placeholder="VERIFY" style="width: 100px; border-color: #a855f7;"></td>
                            <td class="col-lcb-amount"><input type="text" class="notes-input" placeholder="??" style="width: 90px; border-color: #a855f7;"></td>
                            <td class="col-cato-date">12/02/2026</td>
                            <td class="col-cato-ref">519555 etc</td>
                            <td class="col-cato-amount amount-negative">-¬£120.00</td>
                            <td class="col-type">Credit Note</td>
                            <td class="col-status"><span class="status status-credit">Verify</span></td>
                            <td class="col-notes"><input type="text" class="notes-input" placeholder="Check LCB records"></td>
                        </tr>
                    </tbody>
                    <tfoot style="background: rgba(0,0,0,0.4); font-weight: bold; position: sticky; bottom: 0;">
                        <tr>
                            <td colspan="3" style="text-align: right; padding: 15px;">LCB Statement Balance:</td>
                            <td class="amount" style="color: #60a5fa; font-size: 1.2em;">¬£26,039.53</td>
                            <td colspan="3" style="text-align: right; padding: 15px;">Cato Records Balance:</td>
                            <td class="amount" style="color: #4ade80; font-size: 1.2em;">¬£39,054.86</td>
                            <td colspan="3"></td>
                        </tr>
                        <tr style="background: rgba(239, 68, 68, 0.1);">
                            <td colspan="7" style="text-align: right; padding: 15px; color: #f87171;">Unreconciled Difference:</td>
                            <td class="amount" style="color: #f87171; font-size: 1.3em;">¬£13,015.33</td>
                            <td colspan="3"></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- CORRECTED FINAL SUMMARY -->
        <div class="section">
            <div class="section-header">
                <h2 class="section-title">üìä Final Reconciliation Summary</h2>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
                    <h4 style="color: #60a5fa; margin-bottom: 15px;">üì• LCB Statement (Fixed)</h4>
                    <table style="font-size: 0.9em; width: 100%;">
                        <tr><td>Total Invoices</td><td class="amount amount-positive">+¬£335,023.80</td></tr>
                        <tr><td>Total Payments</td><td class="amount amount-negative">-¬£300,017.67</td></tr>
                        <tr><td>Credit Notes</td><td class="amount amount-negative">-¬£8,966.60</td></tr>
                        <tr style="border-top: 2px solid rgba(255,255,255,0.2); font-weight: bold;">
                            <td>Closing Balance</td>
                            <td class="amount" style="color: #60a5fa;">¬£26,039.53</td>
                        </tr>
                    </table>
                    <div style="margin-top: 10px; font-size: 0.8em; color: #888;">Per LCB Supplier Bill Activity (Page 11)</div>
                </div>

                <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 10px;">
                    <h4 style="color: #4ade80; margin-bottom: 15px;">üì§ Cato Records (To Reconcile)</h4>
                    <table style="font-size: 0.9em; width: 100%;">
                        <tr><td>Per Cato System</td><td class="amount">¬£39,054.86</td></tr>
                        <tr><td>Less: Vehicle 31059</td><td class="amount amount-negative">-¬£24,000.00</td></tr>
                        <tr><td>Less: Credit Notes</td><td class="amount amount-negative">-¬£4,042.81</td></tr>
                        <tr><td>Other Adjustments</td><td class="amount amount-negative">-¬£3,972.52</td></tr>
                        <tr style="border-top: 2px solid rgba(255,255,255,0.2); font-weight: bold;">
                            <td>Expected Balance</td>
                            <td class="amount" style="color: #4ade80;">~¬£7,039.53</td>
                        </tr>
                    </table>
                    <div style="margin-top: 10px; font-size: 0.8em; color: #888;">Per CAT001 Activity Statement (Page 18)</div>
                </div>

                <div style="background: rgba(239, 68, 68, 0.1); padding: 20px; border-radius: 10px; border: 1px solid rgba(239, 68, 68, 0.3);">
                    <h4 style="color: #f87171; margin-bottom: 15px;">‚ö†Ô∏è Reconciliation Target</h4>
                    <table style="font-size: 0.9em; width: 100%;">
                        <tr>
                            <td>Cato Balance</td>
                            <td class="amount">¬£39,054.86</td>
                        </tr>
                        <tr>
                            <td>Target (LCB)</td>
                            <td class="amount" style="color: #60a5fa;">¬£26,039.53</td>
                        </tr>
                        <tr style="border-top: 2px solid rgba(255,255,255,0.2); font-weight: bold;">
                            <td>Difference</td>
                            <td class="amount" style="color: #f87171; font-size: 1.3em;">¬£13,015.33</td>
                        </tr>
                    </table>
                    <div style="margin-top: 10px; font-size: 0.8em; color: #888;">Main discrepancy: ¬£24,000 vehicle purchase</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Reconciliation prepared: 27 February 2026</p>
            <p>Period covered: 29 November 2022 to 28 February 2026</p>
            <p style="margin-top: 10px; color: #444;">Reconciling Cato Services records to LCB Vehicles Limited statement. LCB balance is the fixed baseline.</p>
        </div>
    </div>

    <!-- QUERIES MODAL -->
    <div class="modal-overlay" id="queriesModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">
                    ‚ö†Ô∏è Open Queries
                    <span class="badge badge-danger">10 Items</span>
                </h2>
                <button class="modal-close" onclick="closeQueriesModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="query-list">
                    <!-- Critical Query -->
                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üî¥ CRITICAL: Vehicle Purchase Invoice</div>
                            <div class="query-item-amount">¬£24,000.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 22 Sep 2025</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 31059</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> <span class="aging-90">154 days</span></div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Appears on Cato statement but no matching LCB record found. Check if paid by direct bank transfer, different reference, or financed/leased.
                        </div>
                        <span class="query-item-status query-critical">Critical</span>
                    </div>

                    <!-- Partial Payment Query -->
                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üü° PARTIAL PAYMENT: ¬£12.00 Shortfall</div>
                            <div class="query-item-amount">¬£12.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Invoice:</strong> 515699</div>
                            <div class="query-item-detail"><strong>Date:</strong> 19 Jul 2025</div>
                            <div class="query-item-detail"><strong>Invoice Amt:</strong> ¬£342.00</div>
                            <div class="query-item-detail"><strong>Paid:</strong> ¬£330.00</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Check if credit note applied, discount agreed, or bank charges deducted.
                        </div>
                        <span class="query-item-status query-warning">Warning</span>
                    </div>

                    <!-- Credit Note Queries -->
                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üìù Credit Note Verification</div>
                            <div class="query-item-amount">¬£3,040.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 28 Jul 2023</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 507757</div>
                            <div class="query-item-detail"><strong>Applied To:</strong> Batch 5</div>
                            <div class="query-item-detail"><strong>Type:</strong> Credit Note</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Verify in LCB records - no matching entry found.
                        </div>
                        <span class="query-item-status query-info">Verify</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üìù Credit Note Verification</div>
                            <div class="query-item-amount">¬£555.95</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 17 Mar 2025</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 514481</div>
                            <div class="query-item-detail"><strong>Applied To:</strong> Inv 514480</div>
                            <div class="query-item-detail"><strong>Type:</strong> Credit Note</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Verify in LCB records - no matching entry found.
                        </div>
                        <span class="query-item-status query-info">Verify</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üìù Credit Note Verification</div>
                            <div class="query-item-amount">¬£356.57</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 01 Oct 2025</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 518540</div>
                            <div class="query-item-detail"><strong>Applied To:</strong> Inv 517977</div>
                            <div class="query-item-detail"><strong>Type:</strong> Credit Note</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Verify in LCB records - no matching entry found.
                        </div>
                        <span class="query-item-status query-info">Verify</span>
                    </div>

                    <!-- Outstanding Items -->
                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üî¥ OUTSTANDING: Balance Due</div>
                            <div class="query-item-amount">¬£2,250.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 29 Aug 2025</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 517756</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> <span class="aging-90">182 days</span></div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <div style="margin-top: 10px; color: #888; font-size: 0.9em;">
                            Part of Batch 20 - balance remaining unpaid.
                        </div>
                        <span class="query-item-status query-critical">Critical</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üü° OUTSTANDING: Small Balance</div>
                            <div class="query-item-amount">¬£24.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 14 Aug 2025</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 517673</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> <span class="aging-60">197 days</span></div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <span class="query-item-status query-warning">Warning</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üü° OUTSTANDING: Recent Invoice</div>
                            <div class="query-item-amount">¬£5,362.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 01 Feb 2026</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 520677</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> 25 days</div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <span class="query-item-status query-warning">Warning</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üü° OUTSTANDING: Recent Invoice</div>
                            <div class="query-item-amount">¬£552.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 03 Feb 2026</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 520756</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> 23 days</div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <span class="query-item-status query-warning">Warning</span>
                    </div>

                    <div class="query-item">
                        <div class="query-item-header">
                            <div class="query-item-title">üü° OUTSTANDING: Small Balance</div>
                            <div class="query-item-amount">¬£124.00</div>
                        </div>
                        <div class="query-item-details">
                            <div class="query-item-detail"><strong>Cato Date:</strong> 30 Jan 2026</div>
                            <div class="query-item-detail"><strong>Reference:</strong> 520725</div>
                            <div class="query-item-detail"><strong>Days Old:</strong> 27 days</div>
                            <div class="query-item-detail"><strong>Type:</strong> Invoice</div>
                        </div>
                        <span class="query-item-status query-warning">Warning</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print / Save PDF</button>

    <script>
        // Format currency with 2 decimal places
        function formatCurrency(amount) {
            return '¬£' + amount.toLocaleString('en-GB', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }

        // Calculate totals dynamically from table data
        function calculateSummaryCards() {
            let totalInvoices = 0;
            let totalPayments = 0;
            let totalCredits = 0;
            let totalOutstanding = 0;
            let queryCount = 0;

            document.querySelectorAll('#reconciliationTable tbody tr[data-amount]').forEach(row => {
                const amount = parseFloat(row.getAttribute('data-amount')) || 0;
                const type = row.getAttribute('data-type');
                const status = row.querySelector('.status')?.textContent?.toLowerCase() || '';
                const isQuery = row.classList.contains('query');

                if (isQuery) queryCount++;

                if (type === 'invoice') {
                    if (status.includes('unpaid') || status.includes('balance') || status.includes('query')) {
                        totalOutstanding += amount;
                    } else {
                        totalInvoices += amount;
                    }
                } else if (type === 'payment') {
                    totalPayments += amount;
                } else if (type === 'credit') {
                    totalCredits += amount;
                }
            });

            // Note: LCB balance is fixed at ¬£26,039.53 (baseline)
            // Cato balance starts at ¬£39,054.86 and decreases as items are reconciled
        }

        // Calculate reconciliation progress
        function calculateProgress() {
            let totalToReconcile = 0;
            let matchedTotal = 0;
            let matchedCount = 0;
            let totalCount = 0;

            document.querySelectorAll('#reconciliationTable tbody tr[data-amount]').forEach(row => {
                const amount = parseFloat(row.getAttribute('data-amount')) || 0;
                const checkbox = row.querySelector('.col-match input[type="checkbox"]');
                const isChecked = checkbox && checkbox.checked;

                totalToReconcile += amount;
                totalCount++;

                if (isChecked) {
                    matchedTotal += amount;
                    matchedCount++;
                }
            });

            const percent = totalCount > 0 ? Math.round((matchedCount / totalCount) * 100) : 0;
            document.getElementById('progressPercent').textContent = percent + '%';
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('matchedCount').textContent = matchedCount;
            document.getElementById('totalCount').textContent = totalCount;
        }

        function updateMatch(checkbox) {
            const row = checkbox.closest('tr');
            if (checkbox.checked) {
                row.classList.add('matched');
                row.style.backgroundColor = 'rgba(34, 197, 94, 0.1)';
            } else {
                row.classList.remove('matched');
                row.style.backgroundColor = '';
            }
            calculateProgress();
            autoSave();
        }

        function markAllMatched() {
            document.querySelectorAll('#reconciliationTable tbody input[type="checkbox"]').forEach(cb => {
                cb.checked = true;
                updateMatch(cb);
            });
        }

        function clearAll() {
            document.querySelectorAll('#reconciliationTable tbody input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
                updateMatch(cb);
            });
        }

        function filterTables() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const status = document.getElementById('statusFilter').value;
            const type = document.getElementById('typeFilter').value;
            const mismatchesOnly = document.getElementById('showMismatchesOnly').checked;

            document.querySelectorAll('#reconciliationTable tbody tr').forEach(row => {
                const text = row.textContent.toLowerCase();
                const rowStatus = row.querySelector('.status')?.textContent.toLowerCase() || '';
                const rowType = row.querySelector('.col-type')?.textContent.toLowerCase() || '';

                let show = text.includes(search);

                if (status && !rowStatus.includes(status)) show = false;
                if (type && !rowType.includes(type)) show = false;

                if (mismatchesOnly) {
                    const lcbAmount = row.querySelector('.col-lcb-amount')?.textContent?.replace(/[¬£,]/g, '').trim() || '';
                    const catoAmount = row.querySelector('.col-cato-amount')?.textContent?.replace(/[¬£,]/g, '').trim() || '';
                    if (lcbAmount === catoAmount || lcbAmount === '' || lcbAmount === '??') show = false;
                }

                row.style.display = show ? '' : 'none';
            });
        }

        function exportCSV() {
            let csv = 'Match,LCB Date,LCB Reference,LCB Amount,Cato Date,Cato Reference,Cato Amount,Type,Status,Notes\n';

            document.querySelectorAll('#reconciliationTable tbody tr').forEach(row => {
                if (row.style.display === 'none') return;

                const match = row.querySelector('.col-match input')?.checked ? 'Yes' : 'No';
                const lcbDate = row.querySelector('.col-lcb-date')?.textContent?.trim() || '';
                const lcbRef = row.querySelector('.col-lcb-ref')?.textContent?.trim() || '';
                const lcbAmount = row.querySelector('.col-lcb-amount')?.textContent?.trim() || '';
                const catoDate = row.querySelector('.col-cato-date')?.textContent?.trim() || '';
                const catoRef = row.querySelector('.col-cato-ref')?.textContent?.trim() || '';
                const catoAmount = row.querySelector('.col-cato-amount')?.textContent?.trim() || '';
                const type = row.querySelector('.col-type')?.textContent?.trim() || '';
                const status = row.querySelector('.status')?.textContent?.trim() || '';
                const notes = row.querySelector('.col-notes input')?.value || '';

                csv += `"${match}","${lcbDate}","${lcbRef}","${lcbAmount}","${catoDate}","${catoRef}","${catoAmount}","${type}","${status}","${notes}"\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'LCB_Cato_Reconciliation_2026.csv';
            a.click();
        }

        function saveProgress() {
            const saveStatus = document.getElementById('saveStatus');
            saveStatus.className = 'save-status saving show';
            saveStatus.textContent = 'üíæ Saving...';

            // Save all checkbox states
            document.querySelectorAll('.col-match input[type="checkbox"]').forEach((cb, index) => {
                localStorage.setItem('recon_match_' + index, cb.checked);
            });

            // Save all notes
            document.querySelectorAll('.notes-input').forEach((input, index) => {
                localStorage.setItem('recon_note_' + index, input.value);
            });

            setTimeout(() => {
                saveStatus.className = 'save-status saved show';
                saveStatus.textContent = '‚úì Saved';

                setTimeout(() => {
                    saveStatus.classList.remove('show');
                }, 2000);
            }, 500);
        }

        function autoSave() {
            document.querySelectorAll('.col-match input[type="checkbox"]').forEach((cb, index) => {
                localStorage.setItem('recon_match_' + index, cb.checked);
            });
        }

        function loadProgress() {
            document.querySelectorAll('.col-match input[type="checkbox"]').forEach((cb, index) => {
                const saved = localStorage.getItem('recon_match_' + index);
                if (saved === 'true') {
                    cb.checked = true;
                    updateMatch(cb);
                }
            });

            document.querySelectorAll('.notes-input').forEach((input, index) => {
                const saved = localStorage.getItem('recon_note_' + index);
                if (saved) input.value = saved;
            });

            calculateProgress();
        }

        // Modal functions
        function openQueriesModal() {
            document.getElementById('queriesModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeQueriesModal() {
            document.getElementById('queriesModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close modal on overlay click
        document.getElementById('queriesModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeQueriesModal();
            }
        });

        // Close modal on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeQueriesModal();
            }
        });

        // Auto-save notes on blur
        document.querySelectorAll('.notes-input').forEach((input, index) => {
            input.addEventListener('blur', function() {
                localStorage.setItem('recon_note_' + index, this.value);
            });
        });

        // Initialize on page load
        window.addEventListener('load', function() {
            calculateSummaryCards();
            loadProgress();
        });
    </script>
</body>
</html>
